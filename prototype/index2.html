<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>

	<!-- Basic Page Needs
  ================================================== -->
	<meta charset="utf-8">
	<title>Your Page Title Here :)</title>
	<meta name="description" content="">
	<meta name="author" content="">

	<!-- Mobile Specific Metas
  ================================================== -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<!-- CSS
  ================================================== -->
	<link rel="stylesheet" href="stylesheets/base.css">
	<link rel="stylesheet" href="stylesheets/skeleton.css">
	<link rel="stylesheet" href="stylesheets/layout.css">
    <link rel="Stylesheet" href="stylesheets/wHumanMsg.css" />
    <link rel="stylesheet" href="stylesheets/prototype.css">

	<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!-- Favicons
	================================================== -->
	<link rel="shortcut icon" href="images/favicon.ico">
	<link rel="apple-touch-icon" href="images/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">

	<!-- ================ -->
	<!-- attach js files -->
	<!-- ================ -->
   	<script type="text/javascript" src="js/jquery-1.5.1.min.js"></script>
	<script type="text/javascript" src="js/designesia.js"></script>
	<script type="text/javascript" src="js/easing.js"></script>
	<script type="text/javascript" src="js/jquery.ui.totop.js"></script>
	<script type="text/javascript" src="js/jquery.ui.totop.setting.js"></script>
	<script type="text/javascript" src="js/cufon-yui.js"></script>
	<script type="text/javascript" src="js/jquery.prettyPhoto.js"></script>
	<script type="text/javascript" src="js/jquery.prettyPhoto.setting.js"></script>
    <script type="text/javascript" src="js/wHumanMsg.js"></script>
	<script src="js/processing-1.3.6.min.js" type="text/javascript"></script>

	<!-- Scripts
	================================================== -->
	
	<script type="text/javascript" charset="utf-8">
	 
	
	 $(document).ready(function () {

         var hm = $("body").wHumanMsg();





		
		 $('.grid-item.slidedown').hover(function(){  
		        $(".cover", this).stop().animate({top:'5px', left:'4px'},{queue:false,duration:300});
		    }, function() {  
		        $(".cover", this).stop().animate({top:'-260px',left:'4px'},{queue:false,duration:300});
		    });
		
		$('.grid-item.slideup').hover(function(){  
		        $(".cover", this).stop().animate({top:'170px', left:'4px'},{queue:false,duration:300});
		    }, function() {  
		        $(".cover", this).stop().animate({top:'260px',left:'4px'},{queue:false,duration:300});
		    });
		
		
		$("canvas").click(function () {
			$(this).toggleClass("ilike");
			
			    });
		
		$("#get_more").click(function () {

                var individuals = $(".ilike").length;
				$(".ilike").each(
      				function(i, element){
                    slot_index = element.id.substr(4);
					timestamp = Date.now()
                    sample.sample[slot_index].fitness["Context:"+timestamp] = 1;
                    $(this).toggleClass("ilike");
					});
				//Put them back
				$.ajax(
						{   
						url: 'http://localhost:8088/EvoSpace',
					    type: "POST",
					    contentType: "application/json",
					    data: JSON.stringify({"jsonrpc": "2.0", "method": "putSample", "params": [sample], "id": 1 }),
					    dataType: "json",
					    success: function(data, textStatus, jqXHR) {

							
										//	alert(sample.sample[0].chromosome);
											},

						   error: function(jqXHR, textStatus, errorThrown)  {
							       alert ("Error:" + textStatus+" "+errorThrown+" "+jqXHR.responseText);}


							});
                //Get More!
                dataRequest();
                hm.wHumanMsg('Likes:'+ individuals + ', new paintings received',{color: 'yellow',  displayLength: 400});
				
				
				});
				
					
					
		function dataRequest(){
	           ///alert("set");
				$.ajax(
					{   
					url: 'http://localhost:8088/EvoSpace',
				    type: "POST",
				    contentType: "application/json",
				    data: JSON.stringify({"jsonrpc": "2.0", "method": "getSample", "params": [8], "id": 1 }),
				    dataType: "json",
				    success: function(data, textStatus, jqXHR) {

										sample =jQuery.parseJSON(data.result);

										$("canvas").each(
					          				function(i, element){
                                                //alert(element.nextElementSibling.childNodes[0].textContent)
						       					var pjs = Processing.getInstanceById(element.id);
												var chrome = pjs.getChromosome();   
												chrome.length = 0;
						       					Array.prototype.push.apply(chrome, sample.sample[i].chromosome);
												pjs.draw();
                                                slot_index = element.id.substr(4);
                                                element.nextElementSibling.childNodes[1].textContent = sample.sample[slot_index].id;
                                                //alert(slot_index);
                                                //alert(element.nextElementSibling.childNodes[0].textContent)
                                                 //= sample.sample[slot_index].id;
						      					}
											);
				       					},

					   error: function(jqXHR, textStatus, errorThrown)  {
						       alert ("Error:" + textStatus+" "+errorThrown+" "+jqXHR.responseText);}


						});

	  	}
	
		//alert("ready");
 		//dataRequest();
	  	setTimeout(dataRequest,1000);

	});		
	</script>
   
</head>
<body>



	<!-- Primary Page Layout
	================================================== -->

	<!-- Delete everything in this .container and get started on your own site! -->

	<div class="container">

		<div class='sixteen columns'>
        <h3 class='strapline'> <strong> Help them evolve. </strong> Choose the ones you like, send them back, and get some more!</h3>
		<button id="get_more">Get More</button>
		</div>
		
		<div class='four columns grid-item slideup'>
		<canvas id="slot0" data-processing-sources="pde_scripts/sketchVasarelly.pde"></canvas>
			<div class="cover boxcaption">
					<span class="paint_name"> </span>
					<button>Save It</button>
			</div>

		</div>
			
		
		<div class='four columns grid-item  slideup'>
		<canvas id="slot1" data-processing-sources="pde_scripts/sketchVasarelly.pde"></canvas>
				<div class="cover boxcaption">
                    <span class="paint_name"> </span>
						<button>Save It</button>
				</div>
		</div>
		
		<div class='four columns grid-item slideup'>
		<canvas id="slot2" data-processing-sources="pde_scripts/sketchVasarelly.pde"></canvas>
			<div class="cover boxcaption">
                    <span class="paint_name"> </span>
					<button>Save It</button>
			</div>
		</div>
		
		<div class='four columns grid-item slideup'>
		<canvas id="slot3" data-processing-sources="pde_scripts/sketchVasarelly.pde"></canvas>
				<div class="cover boxcaption">
                    <span class="paint_name"> </span>
					<button>Save It</button>
				</div>
		</div>
		
		<div class='four columns grid-item slideup'>
		<canvas id="slot4" data-processing-sources="pde_scripts/sketchVasarelly.pde"></canvas>
				<div class="cover boxcaption">
                    <span class="paint_name"> </span>
						<button>Save It</button>
				</div>
	
		</div>
		
		
		<div class='four columns grid-item  slideup'>
		<canvas id="slot5" data-processing-sources="pde_scripts/sketchVasarelly.pde"></canvas>
				<div class="cover boxcaption">
                    <span class="paint_name"> </span>
                    <button>Save It</button>
				</div>
	
		</div>
		
		<div class='four columns grid-item  slideup'>
		<canvas id="slot6" data-processing-sources="pde_scripts/sketchVasarelly.pde"></canvas>
				<div class="cover boxcaption">
                    <span class="paint_name"> </span>
                    <button>Save It</button>
				</div>
		</div>
		
		<div class='four columns grid-item   slideup'>
		<canvas id="slot7" data-processing-sources="pde_scripts/sketchVasarelly.pde"></canvas>
					<div class="cover boxcaption">
                        <span class="paint_name"> </span>
                        <button>Save It</button>
					</div>
            adsfasdfasdfasdf
		</div>		
		
		
				

	</div><!-- container -->



	<!-- JS
	================================================== 
	<script src="http://code.jquery.com/jquery-1.7.2.min.js"></script>

	<script src="javascripts/tabs.js"></script>
	-->
<!-- End Document
================================================== -->
</body>
</html>